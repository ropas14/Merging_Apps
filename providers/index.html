<!DOCTYPE html>
<html>
<head>
    <title>PROVIDERS API </title>
    <style>
th,td {
    font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
    border-collapse: collapse;
}
td, th {
    border: 1px solid #ddd;
    padding: 8px;
}
tr:nth-child(even){background-color: #f2f2f2;}
tr:hover {background-color: #ddd;}
th {
    padding-top: 12px;
    padding-bottom: 12px;
    text-align: left;
    background-color: #4CAF50;
    color: white;
}
 </style>
</head>
<body>
  <h1>PROVIDERS DATA LOOK UP API</h1>
  <form id="formoid" action="" title="" method="post">
        <div>
            <label class="title">search Term</label>
            <input type="text" id="search" name="search" >
            <input type="submit" id="submitButton"  name="submitButton" value="Search">
        </div>
 </form>
 <h2><div id ='rs'>O items found</div></h2>
    <table>
        <thead>
            <tr>
               <th>MATCHING</th>
               <th>L DISTANCE</th>
                <th>FIRST NAME</th>
                <th>LAST NAME</th>
                <th>CITY</th>
                <th>STATE</th>
                <th>NPI</th>
                <th>PROVIDER CREDENTIAL</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
<script type="text/javascript" src="https://code.jquery.com/jquery-1.4.2.min.js"></script>

<script type="text/javascript">
  $(function() {
    $("#formoid").submit(function(event) {
      /* stop form from submitting normally */
      event.preventDefault();
     /* Send the data using post with element id name and name2*/
      var searchValue= $('#search').val();
    // GET/READ
    //alert("response");
        $.ajax({
            url: '/providers?name='+searchValue,
            dataType: 'jsonp',
            success: function(data) {
                var tbodyEl = $('tbody');
                //alert("uuuuuuuuuuuuuuuuuuuu");
              $('#rs').text(data.length+' items found');
                tbodyEl.html('');
               $.each(data, function(index, element) {
                    tbodyEl.append('\
                        <tr>\
                            <td class="id">'+element.needed+'</td>\
                            <td class="id">'+element.distance + '</td>\
                            <td class="id">'+element.fn+'</td>\
                            <td class="id">'+ element.ln + '</td>\
                            <td class="id">'+ element.c + '</td>\
                            <td class="id">'+ element.s + '</td>\
                            <td class="id">'+ element.pid+'</td>\
                            <td class="id">'+ element.pc + '</td>\
                        </tr>\
                    ');
                });
            }
        });
    });
      });
    </script>

</body>
</html>
